<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- import CSS -->
    <link rel="stylesheet" href="https://cdn.staticfile.org/element-ui/2.15.9/theme-chalk/index.css">
    <style>
        header a {
            text-decoration: none;
            color: #6c6c6c;
        }

        .el-table .el-table__cell {
            padding: 0; /*去掉自带的上下间距*/
        }


        a {
            color: -webkit-link;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline blue;
        }

    </style>
</head>
<body>
<div id="app">
    <el-container>
        <el-header height="150px">
            <div style="width: 1200px;margin: 0 auto">
                <img src="imgs/logo.png" style="width: 300px;vertical-align: middle" alt="">
                <a href="/">首页</a>
                <el-divider direction="vertical"></el-divider>
                <a href="">热点资讯</a>
                <el-divider direction="vertical"></el-divider>
                <a href="">商家入驻</a>
                <el-divider direction="vertical"></el-divider>
                <a href="">社会招聘</a>
                <el-divider direction="vertical"></el-divider>
                <a href="">校园招聘</a>
                <el-divider direction="vertical"></el-divider>
                <a href="">帮助</a>
                <el-divider direction="vertical"></el-divider>
                <a href="login.html">后台登录</a>
            </div>
        </el-header>
        <el-main style="width: 1200px;margin: 0 auto;">
            <el-row>
                <!--                <el-col span="18">-->
                <!--                    <el-carousel height="300px">-->
                <!--                        <el-carousel-item v-for="b in bannerArr">-->
                <!--                            <img :src="b.url" width="100%" height="100%" alt="">-->
                <!--                        </el-carousel-item>-->

                <!--                    </el-carousel>-->
                <!--                </el-col>-->
                <el-col>
                    <el-card>
                        <h3>
                            <i style="font-weight: bold" class="el-icon-trophy">热点咨询</i>
                        </h3>
                        <el-divider></el-divider>
                        <el-table :data="topArr">
                            <el-table-column label="排名" width="80" type="index"></el-table-column>
                            <el-table-column label="咨询标题" width="200" prop="title"></el-table-column>
                            <el-table-column label="点击量" width="80" prop="viewCount"></el-table-column>
                        </el-table>
                    </el-card>
                </el-col>
            </el-row>
            <!--咨询列表开始-->
            <el-row gutter="20" v-for="n in newsArr">
                <el-card>
                    <el-col span="8" style="float: left">
                        <a :href="'/detail.html?id='+n.id"> <img style="padding: 20px" class="p_img" :src="n.url" width="90%" height="180"
                                                                 alt=""></a>
                    </el-col>
                    <el-col span="15" style="float: right">
                        <div>
                            <a :href="'/detail.html?id='+n.id">
                                <p style="font-size: 20px;height: 50px;margin-top: 0;line-height: 60px">
                                    {{n.source}}
                                </p>

                                <p style="font-size: 20px;font-weight: 700;line-height: 20px;color: #363636">
                                    {{n.title}}
                                </p>
                                <p style="height:60px;font-size: 16px;line-height: 30px;color: #6c6c6c;overflow: hidden; white-space: nowrap;  text-overflow: ellipsis;-webkit-line-clamp:2;">
                                    {{n.content}}
                                </p>
                                <p style="float: right">点击量:{{n.viewCount}}</p>

                            </a>
                        </div>

                    </el-col>
                </el-card>
            </el-row>
            <!--咨询列表结束-->


        </el-main>
        <el-footer>
            <div style="height: 95px;background-image: url('imgs/wave.png')"></div>
            <div style="background-color: #3f3f3f;
            text-align: center;color: #b1b1b1;padding: 30px 0">
                <p>Copyright © 北京达内金桥科技有限公司版权所有 京ICP备12003709号-3 京公网安备 11010802029572号
                </p>
                <p>达内在线WWW.TMOOC.CN 专注于IT职业技能培训</p>
                <p>涵盖20余门课程体系，致力于打造权威的IT职业教育学习平台</p>
            </div>
        </el-footer>
    </el-container>
</div>
</body>
<!-- import Vue before Element -->
<script src="https://cdn.staticfile.org/vue/2.6.14/vue.min.js"></script>
<!-- import JavaScript -->
<script src="https://cdn.staticfile.org/element-ui/2.15.9/index.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js"></script>

<script>
    let v = new Vue({
        el: '#app',
        data: function () {
            return {
                activeIndex: "1",
                topArr: [],
                newsArr: [],
                wd: "",
            }
        },
        methods: {
            search() {
                location.href = "/result.html?wd=" + v.wd;
            },
            handleSelect(key, keyPath) {
                console.log(key, keyPath);
                //跳转到显示结果的页面  key代表的就是分类id
                location.href = "/result.html?id=" + key;
            }
        },
        created: function () {

            axios.get("news/select").then(function (response) {
                v.newsArr = response.data;
            })
            axios.get("/news/selectTop").then(function (response) {
                v.topArr = response.data;
            })

        }
    })
</script>
</html>